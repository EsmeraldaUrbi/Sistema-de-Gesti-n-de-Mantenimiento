{% extends "base.html" %}
{% block content %}

<h1 class="page-title">Registro de Fallas</h1>

<div class="card-form elegant-form">
    <form method="POST">

        <!-- Equipo -->
        <div class="form-group stylish-input">
            <label for="id_equipo">Equipo</label>
            <select name="id_equipo" required>
                <option value="">Seleccione un equipo...</option>
                {% for e in equipos %}
                <option value="{{ e.id }}">{{ e.nombre }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Descripción -->
        <div class="form-group stylish-input">
            <label for="descripcion">Descripción de la falla</label>
            <textarea 
                name="descripcion" 
                rows="4" 
                required
                minlength="5"
                maxlength="300"
                pattern="[A-Za-z0-9áéíóúÁÉÍÓÚñÑ.,;\s\-()]+"
                title="Describe la falla usando letras, números y signos básicos. Mínimo 5 caracteres."
            ></textarea>
        </div>

        <!-- Prioridad -->
        <div class="form-group stylish-input">
            <label for="prioridad">Prioridad</label>
            <select name="prioridad" required>
                <option value="Alta">Alta (2 días)</option>
                <option value="Media">Media (2 semanas)</option>
                <option value="Baja">Baja (2 meses)</option>
            </select>
        </div>

        <button type="submit" class="btn-submit-modern">Registrar Falla</button>

    </form>
</div>

{% endblock %}
